<div class="students-container">
  <h2 class="students-title">Students and Exam Results</h2>

  @for (student of users; track student.id) {
    @if(student.role !== "admin") {
    <div class="student-card">
      <div class="student-header">
        <h3>{{ student.name }}</h3>
      </div>

      @if (student.exams?.length > 0) {
        <table class="exam-table">
          <thead>
            <tr>
              <th>Exam</th>
              <th>Score</th>
            </tr>
          </thead>
          <tbody>
            @for (exam of student.exams; track exam.id) {
              <tr>
                <td>{{ exam.name }}</td>
                <td>
                  <span class="score-badge" [ngClass]="{
                    'high-score': exam.score >= 80,
                    'mid-score': exam.score >= 50 && exam.score < 80,
                    'low-score': exam.score < 50
                  }">
                    {{ exam.score }}%
                  </span>
                </td>
              </tr>
            }
          </tbody>
        </table>
      } @else {
        <p class="no-exams">No exams found.</p>
      }
    </div>
    }
  }
</div>
